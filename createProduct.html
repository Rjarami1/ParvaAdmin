<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inscribir Producto</title>
</head>
<body>
    <h3> Inscribir Producto</h3>

    <form>
        <label for="code_prod">Codigo del Producto</label><br>
        <input type="text" id="code_prod" name="code_prod"><br>

        <label for="name_prod">Nombre del Producto</label><br>
        <input type="text" id="name_prod" name="name_prod"><br>

        <label for="descp_prod">Descripcion del Producto</label><br>
        <input type="text" id="descp_prod" name="descp_prod"><br>

        <input type="submit" value="Inscribir Producto"><br>
        <input type="button" value="Cancelar" id="cancel"><br>
    </form>

    <script>
        const {ipcRenderer} = require('electron');

        const form = document.querySelector('form');
        const cancelButton = document.querySelector('#cancel');
        
        const code_prod = document.querySelector('#code_prod');
        const name_prod = document.querySelector('#name_prod');
        const descp_prod = document.querySelector('#descp_prod');

        let allDone = true;

        form.addEventListener('submit', (e) => {
            e.preventDefault();

            if(allDone)
            {
                if(code_prod.value == '' || name_prod.value == '' || descp_prod.value == '')
                {
                    msgError.textContent = ' Por favor increse todos los campos';
                    allDone = false;
                }
                }else
                {
                    msgError.textContent = '';
                    allDone = true;
                }
            if(allDone)
            {
                let prodInfo = {
                    code_prod = code_prod.value,
                    name_prod = name_prod.value,
                    descp_prod = descp_prod.value
                }

                ipcRenderer.send('prodCreate:create', prodInfo)
            }
        })

        cancelButton.addEventListener('click', (e) => {
            e.preventDefault();

            ipcRenderer.send('prodCreate:cancel');
        })
    </script>
</body>
</html>